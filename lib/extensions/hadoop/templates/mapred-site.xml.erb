<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!-- Put site-specific property overrides in this file. -->

<configuration>

<property>
  <name>mapred.job.tracker</name>
  <value><%= @node[:poolparty][:current_master] %>:54311</value>
  <description>The host and port that the MapReduce job tracker runs
  at.  If "local", then jobs are run in-process as a single map
  and reduce task.
  </description>
</property>


<property>
  <name>mapred.task.tracker.report.address</name>
  <value><%= @node[:poolparty][:hadoop_this_nodes_ip] %>:0</value>
  <description>The interface and port that task tracker server listens on.
  Since it is only connected to by the tasks, it uses the local interface.
  EXPERT ONLY. Should only be changed if your host does not have the loopback
  interface.</description>
</property>

<property>
  <name>mapred.local.dir</name>
  <value><%= @node[:poolparty][:hadoop_data_dir] %>/mapred/local</value>
</property>

<property>
  <name>mapred.system.dir</name>
  <value><%= @node[:poolparty][:hadoop_data_dir] %>/mapred/system</value>
</property>

<property>
  <name>mapred.tasktracker.dns.interface</name>
  <value>eth0</value>
</property>

<property>
  <name>mapred.job.tracker.persist.jobstatus.active</name>
  <value>true</value>
</property>





<property>
  <name>mapred.child.java.opts</name>
  <value>-Xmx200m -Djava.net.preferIPv4Stack=true</value>
  <description>Java opts for the task tracker child processes.
  The following symbol, if present, will be interpolated: @taskid@ is replaced
  by current TaskID. Any other occurrences of '@' will go unchanged.
  For example, to enable verbose gc logging to a file named for the taskid in
  /tmp and to set the heap maximum to be a gigabyte, pass a 'value' of:
        -Xmx1024m -verbose:gc -Xloggc:/tmp/@taskid@.gc

  TaskManager.VMFlags=-Djava.net.preferIPv6Addresses=true -Djava.net.preferIPv4Stack=false

  The configuration variable mapred.child.ulimit can be used to control the
  maximum virtual memory of the child processes.
  </description>
</property>



</configuration>
